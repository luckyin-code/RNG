# Usage
The RNG generates 100 million bits.

```
mvn package
java -jar ./target/library-rng-core-1.0.0-jar-with-dependencies.jar
```

Output: secureRandomBits.bin

The file contains a random bitstream generated using a secure HMAC-based RNG seeded with system entropy, and the output is stored as raw binary data in a file where each byte represents 8 bits of randomness.

# Description

## RNG Algorithm and Seeding Function:

### RNG Algorithm:
The code uses an HMAC-based Deterministic Random Bit Generator (HMAC-DRBG). This algorithm is based on the cryptographic hash function HMAC-SHA256, which  well-known and internationally recognized RNG algorithm. It is widely accepted in cryptographic systems and follows established standards for secure random number generation. 

The HMAC-DRBG ensures that the generated random bits are cryptographically secure and deterministic based on the given seed and counter.
Each iteration of the RNG generation uses a fresh HMAC object to compute random bytes. The input to the HMAC includes:

1.	Seed: A combination of a secure random number and a timestamp, which is used to initialize the HMAC generator.
2.	Counter: A counter value that is incremented after each chunk of random data is generated. This ensures that each new chunk of random bits is unique, even though the seed remains the same.

### Seeding Function:

The seeding process in this code gathers entropy from two main sources:

1.	Secure Random Data: Generated using crypto.randomBytes(64), which provides 512 bits of high-quality randomness from Node.js’ built-in cryptographic library.
2.	Timestamp: The current system time in milliseconds is appended to the random data, adding additional entropy. The combined data (secure random bytes and the timestamp) forms the seed for the HMAC-DRBG.
This seed ensures unpredictability and high entropy for the random number generation.

## Output File:

### File Format:
The output file (secureRandomBits.bin) contains a sequence of random binary data. Each byte in the file represents 8 bits of random data. The total size of the file is calculated to hold 100 million bits (12.5 MB, or 100,000,000 bits / 8).

### Binary Sequence:
The data written to the file is a continuous stream of bytes, where each byte contains 8 random bits generated by the HMAC-DRBG algorithm. The file is directly written as binary data using Node.js’ file stream (fs.createWriteStream()), ensuring that the output is stored as raw binary data without any encoding or transformation.

# RNG TEST

## Dieharder Test

```dieharder -a -f secureRandomBits.bin```

```
#=============================================================================#
#            dieharder version 3.31.1 Copyright 2003 Robert G. Brown          #
#=============================================================================#
   rng_name    |           filename             |rands/second|
        mt19937|                  winTicket2.bin|  1.77e+08  |
#=============================================================================#
        test_name   |ntup| tsamples |psamples|  p-value |Assessment
#=============================================================================#
   diehard_birthdays|   0|       100|     100|0.44912855|  PASSED
      diehard_operm5|   0|   1000000|     100|0.04546083|  PASSED
  diehard_rank_32x32|   0|     40000|     100|0.05167132|  PASSED
    diehard_rank_6x8|   0|    100000|     100|0.52907904|  PASSED
   diehard_bitstream|   0|   2097152|     100|0.30183913|  PASSED
        diehard_opso|   0|   2097152|     100|0.08768480|  PASSED
        diehard_oqso|   0|   2097152|     100|0.85080748|  PASSED
         diehard_dna|   0|   2097152|     100|0.14957021|  PASSED
diehard_count_1s_str|   0|    256000|     100|0.08107454|  PASSED
diehard_count_1s_byt|   0|    256000|     100|0.37814456|  PASSED
 diehard_parking_lot|   0|     12000|     100|0.60921267|  PASSED
    diehard_2dsphere|   2|      8000|     100|0.46977581|  PASSED
    diehard_3dsphere|   3|      4000|     100|0.68012619|  PASSED
     diehard_squeeze|   0|    100000|     100|0.38625298|  PASSED
        diehard_sums|   0|       100|     100|0.22193314|  PASSED
        diehard_runs|   0|    100000|     100|0.94070040|  PASSED
        diehard_runs|   0|    100000|     100|0.52094570|  PASSED
       diehard_craps|   0|    200000|     100|0.47342676|  PASSED
       diehard_craps|   0|    200000|     100|0.86484129|  PASSED
```

## NIST TEST

``` 
./assess 1000000
           G E N E R A T O R    S E L E C T I O N
           ______________________________________

    [0] Input File                 [1] Linear Congruential
    [2] Quadratic Congruential I   [3] Quadratic Congruential II
    [4] Cubic Congruential         [5] XOR
    [6] Modular Exponentiation     [7] Blum-Blum-Shub
    [8] Micali-Schnorr             [9] G Using SHA-1

   Enter Choice: 0


		User Prescribed Input File: data/winTicket2.bin

                S T A T I S T I C A L   T E S T S
                _________________________________

    [01] Frequency                       [02] Block Frequency
    [03] Cumulative Sums                 [04] Runs
    [05] Longest Run of Ones             [06] Rank
    [07] Discrete Fourier Transform      [08] Nonperiodic Template Matchings
    [09] Overlapping Template Matchings  [10] Universal Statistical
    [11] Approximate Entropy             [12] Random Excursions
    [13] Random Excursions Variant       [14] Serial
    [15] Linear Complexity

         INSTRUCTIONS
            Enter 0 if you DO NOT want to apply all of the
            statistical tests to each sequence and 1 if you DO.

   Enter Choice: 1

        P a r a m e t e r   A d j u s t m e n t s
        -----------------------------------------
    [1] Block Frequency Test - block length(M):         128
    [2] NonOverlapping Template Test - block length(m): 9
    [3] Overlapping Template Test - block length(m):    9
    [4] Approximate Entropy Test - block length(m):     10
    [5] Serial Test - block length(m):                  16
    [6] Linear Complexity Test - block length(M):       500

   Select Test (0 to continue): 0

   How many bitstreams? 100

   Input File Format:
    [0] ASCII - A sequence of ASCII 0's and 1's
    [1] Binary - Each byte in data file contains 8 bits of data

   Select input mode:  1

     Statistical Testing In Progress.........

     Statistical Testing Complete!!!!!!!!!!!!
```
Find the result in: experiments/AlgorithmTesting/finalAnalysisReport.txt
